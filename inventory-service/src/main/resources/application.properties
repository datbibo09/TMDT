# ===============================
# HTTP Port
# ===============================
quarkus.http.port=8083

# ===============================
# MySQL Datasource
# ===============================
quarkus.datasource.db-kind=mysql
quarkus.datasource.username=${MYSQL_ROOT_USERNAME}
quarkus.datasource.password=${MYSQL_ROOT_PASSWORD}
quarkus.datasource.jdbc.url=${QUARKUS_DATASOURCE_JDBC_URL}

# Hibernate ORM
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=false
# quarkus.hibernate-orm.sql-load-script=import.sql  # n?u anh có file init data

# ===============================
# RabbitMQ - Reactive Messaging
# ===============================
quarkus.http.cors=true

# Proxy route t?i product-service
quarkus.http.proxy.routes.products.path=/api/products
quarkus.http.proxy.routes.products.destination=http://localhost:8081

# Proxy route t?i inventory-service
quarkus.http.proxy.routes.inventory.path=/api/inventory
quarkus.http.proxy.routes.inventory.destination=http://localhost:8082

# Outgoing channel: G?i event khi t?n kho thay ??i
mp.messaging.outgoing.inventory-event.connector=smallrye-rabbitmq
mp.messaging.outgoing.inventory-event.exchange=inventory.events
mp.messaging.outgoing.inventory-event.routing-key=inventory.event

# RabbitMQ connection (chung cho t?t c? channel)
mp.messaging.connector.smallrye-rabbitmq.host=rabbitmq
mp.messaging.connector.smallrye-rabbitmq.port=5672
mp.messaging.connector.smallrye-rabbitmq.username=guest
mp.messaging.connector.smallrye-rabbitmq.password=guest
mp.messaging.connector.smallrye-rabbitmq.reconnect-attempts=10
mp.messaging.connector.smallrye-rabbitmq.reconnect-interval=5

# ===============================
# Health check & Swagger (tùy ch?n nh?ng nên có)
# ===============================
quarkus.smallrye-health.root-path=/q/health
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger-ui